# get-lottery-demo

1，导入sql prize.sql 包括三个表：prize，prize_record，user
2，composer install  
3，两种抽奖模式：纯随机抽奖；根据后台配置的概率来抽奖。两种抽奖模式对应两个路由：  
普通抽奖：http://localhost/get-lottery-demo/public/index.php/api/normalLottery?user_id=1  
配置概率抽奖：http://localhost/get-lottery-demo/public/index.php/api/rateLottery?user_id=1  

两种抽奖方式对于的需求内容：  
题目一、抽奖活动接口功能开发

1、题目描述：
为迎接新老学员返校，公司特意准备了丰厚的抽奖活动，奖品及库存如下表所示。每位学员有且仅有一次抽奖机会，奖品视库存随机确定，数量有限，先到先得。
 
奖品	库存个数
一等奖	10
二等奖	50
三等奖	200
四等奖	1000
五等奖	5000

2、要求：
1）开发一个http接口，请求参数为学生ID，响应参数为抽中奖品，如果用户已无抽奖资格，需要返回对应的提示；
2）仅设计开发抽奖功能即可，无需考虑用户登录校验；
3）如开发中有用到mysql或redis，时间不允许的话可以简单写文件或者采用伪代码逻辑；
4）使用PHP语言开发，是否使用框架视自身而定，不做限制；
5）开发过程中有任何疑问或问题及时咨询反馈。
    
3、延伸拓展：
若提前完成了上述功能，可以做以下延伸拓展，可以基于原有功能做二次开发，但需要保证相对独立，不能覆盖原功能的逻辑。

奖品、库存及中奖概率如下表所示。每位学员有且仅有一次抽奖机会，无空奖，奖品视库存和中奖概率确定。
 
奖品	库存个数	中奖概率
一等奖	10	万分之一
二等奖	50	万分之五
三等奖	200	千分之一
四等奖	1000	百分之一
五等奖	无限制	若未抽中一至四等奖，必中该奖
